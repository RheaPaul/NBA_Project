<!DOCTYPE html>
<html>

<head>
    <title>Amrita Course Accreditation System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <style>
        body {
            background-color: #FDF5E6; /* Old Lace Background */
        }
        .navbar {
            background-color: #8B0000; /* Dark Red Navbar */
        }
        #courseForm, #otherForm {
            display: none;  /* Hide the forms initially */
        }
        form {
            background-color: #FFFAFA; /* Snow Form */
            padding: 20px;
            border-radius: 5px;
        }
        .btn-custom {
            width: 200px; /* Fix the width of the buttons */
            margin: 1rem 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 30px;
            font-size: 1rem;
            transition: all 0.3s ease-in-out;
        }
        .btn-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .btn-custom:active {
            transform: translateY(0);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="#">Amrita</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Colleges</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Pricing</a>
                </li>
            </ul>
        </div>
    </nav>
    
    <div class="container mt-5">
        <h1 class="text-center">Amrita Course Accreditation System</h1>
        <div class="row justify-content-center">
            <div class="col-md-6 mx-auto text-center">
                <div class="row">
                    <div class="col">
                        <button id="templateGenerationBtn" class="btn btn-primary btn-custom">Template Generation</button>
                    </div>
                    <div class="col">
                        <button id="otherTemplateBtn" class="btn btn-secondary btn-custom mt-2">Other Template</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">

                <form id="courseForm" name="courseForm" method="POST" action="/submit">

                <div class="form-group">
                    <label for="teacher">Teacher</label>
                    <input type="text" id="teacher" name="teacher" placeholder="Teacher" required class="form-control">
                </div>
                <!-- <div class="form-group">
                    <label for="academicYearStart">Academic Year</label>
                    <input type="number" id="academicYearStart" name="academicYearStart" placeholder="Start Year" required class="form-control" onchange="document.getElementById('academicYearEnd').value = Number(this.value) + 1">
                    <input type="hidden" id="academicYearEnd" name="academicYearEnd" class="form-control">
                </div> -->
                <div class="form-group">
                    <label for="academicYear">Academic Year</label>
                    <div class="row">
                        <div class="col">
                            <input type="number" id="academicYearStart" name="academicYearStart" placeholder="Start Year" required class="form-control">
                        </div>
                        <div class="col-auto my-auto">
                            -
                        </div>
                        <div class="col">
                            <input type="number" id="academicYearEnd" name="academicYearEnd" placeholder="End Year" readonly required class="form-control">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="semester">Semester</label>
                    <select name="semester" class="form-control" required>
                        <option value="">Select the Semester</option>
                        <option value="Even">Even</option>
                        <option value="Odd">Odd</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="branch">Branch</label>
                    <select name="branch" class="form-control" required>
                        <option value="">Select the branch</option>
                        <option value="AIE">AIE</option>
                        <option value="EAC">EAC</option>
                        <option value="CSE">CSE</option>
                        <option value="MEE">MEE</option>
                        <option value="CIV">CIV</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="batch">Batch</label>
                    <input type="month" id="batch" name="batch" placeholder="Batch" required class="form-control" pattern="\d{4}">
                </div> 
                <!-- <div class="form-group">
                    <label for="batch">Batch</label>
                    <input type="month" id="batch" name="batch" placeholder="Batch" required class="form-control" onfocus="(this.type='month')" onblur="(this.type='text')" min="2020">
                </div> -->
                <div class="form-group">
                    <label for="section">Section</label>
                    <select name="section" class="form-control" required>
                        <option value="">Select the section</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="Combined">Combined</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="subjectCode">Subject Code</label>
                    <input type="text" name="subjectCode" placeholder="Subject Code" required class="form-control">
                </div>
                <div class="form-group">
                    <label for="subjectName">Subject Name</label>
                    <input type="text" name="subjectName" placeholder="Subject Name" required class="form-control">
                </div>
                <div class="form-group">
                    <label for="numberOfStudents">Number of Students</label>
                    <input type="number" name="numberOfStudents" placeholder="Number of Students" required class="form-control">
                </div>
                <div class="form-group">
                    <label for="numberOfCOs">Number of CO's</label>
                    <input type="number" name="numberOfCOs" placeholder="Number of CO's" required class="form-control">
                </div>
                <!-- <div class="form-group"> 
                    <label for="internal">Internal %</label>
                    <input type="number" name="internal" min="1" max="100" placeholder="Internal %" required class="form-control" min="0" max="100">
                </div>
                <div class="form-group">
                    <label for="external">External %</label>
                    <input type="number" name="external" min="1" max="100" placeholder="External %" required class="form-control" min="0" max="100">
                </div>
                <div class="form-group">
                    <label for="direct">Direct %</label>
                    <input type="number" name="direct" min="1" max="100" placeholder="Direct %" required class="form-control" min="0" max="100">
                </div>
                <div class="form-group">
                    <label for="indirect">Indirect %</label>
                    <input type="number" name="indirect" min="1" max="100" placeholder="Indirect %" required class="form-control" min="0" max="100">
                </div> -->
                <div class="form-group"> 
                    <label for="internal">Internal %</label>
                    <input type="number" name="internal" id="internal" min="1" max="100" placeholder="Internal %" required class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label for="external">External %</label>
                    <input type="number" name="external" id="external" min="1" max="100" placeholder="External %" required class="form-control" min="0" max="100">
                </div>
                <div class="form-group">
                    <label for="direct">Direct %</label>
                    <input type="number" name="direct" id="direct" min="1" max="100" placeholder="Direct %" required class="form-control" min="0" max="100">
                </div>
                <div class="form-group">
                    <label for="indirect">Indirect %</label>
                    <input type="number" name="indirect" id="indirect" min="1" max="100" placeholder="Indirect %" required class="form-control" readonly>
                </div>
                <div class="form-group">
                    <label for="defaultThreshold">Default Threshold %</label>
                    <input type="number" name="defaultThreshold" min="1" max="100" placeholder="defaultThreshold %" required class="form-control" min="0" max="100">
                </div>
                <div class="form-group">
                    <label for="target">Target %</label>
                    <input type="number" name="target" min="1" max="100" placeholder="Target %" required class="form-control" min="0" max="100">
                </div>
                <div class="form-group">
                    <label for="numberOfComponents">Number of Components</label>
                    <input type="number" id="numberOfComponents" name="numberOfComponents" placeholder="Number of Components" required class="form-control">
                </div>

                <div class="component-container mt-3" id="componentContainer"></div>

                <button type="submit" class="btn btn-primary mt-3">Submit</button>
                <!-- <button type="button" id="downloadBtn" class="btn btn-secondary mt-3">Download</button> -->

            </form>
            <form id="otherForm" name="otherForm" method="POST" action="/upload" enctype="multipart/form-data">
                <!-- Future form fields will go here... -->
                <!-- File Upload -->
                <div class="form-group">
                    <label for="excelFile">Upload Excel File</label>
                    <input type="file" name="file" required class="form-control">
                </div>
            
                <button type="submit" class="btn btn-primary mt-3">Submit</button>
            </form>
            
        </div>
    </div>
    <!-- <script>
        document.getElementById("templateGenerationBtn").onclick = function() {
            // Show the course form when the button is clicked
            document.getElementById("courseForm").style.display = "block";
            // Hide the other form
            document.getElementById("otherForm").style.display = "none";
        }
        
        document.getElementById("otherTemplateBtn").onclick = function() {
            // Show the other form when the button is clicked
            document.getElementById("otherForm").style.display = "block";
            // Hide the course form
            document.getElementById("courseForm").style.display = "none";
        }
        $(document).ready(function(){
            $(document).ready(function() {
        //... your other jQuery code...

        $("#academicYearStart").change(function() {
            var startYear = $(this).val();
            $("#academicYearEnd").val(parseInt(startYear) + 1);
        });
        
        $("#batch").on("focus", function(){
            this.type = 'year';
        });

        $("#batch").on("blur", function(){
            this.type = 'text';
        });
    });
            $("#numberOfComponents").change(function(){
                var numComponents = $(this).val();
                $("#componentContainer").empty().show();
                var table = $('<table></table>').addClass('table');
                var thead = $('<thead></thead>').append('<tr><th>Component Name</th><th>Questions</th></tr>');
                table.append(thead);
                for(var i=0; i<numComponents; i++){
                    var row = $('<tr></tr>');
                    row.append('<td><input type="text" name="componentName'+(i+1)+'" placeholder="Component Name '+(i+1)+'" required class="form-control"></td>');
                    row.append('<td><input type="text" name="componentValue'+(i+1)+'" placeholder="Number of Questions" required class="form-control"></td>');
                    table.append(row);
                }
                $("#componentContainer").append(table);
            });
        });

        document.getElementById("downloadBtn").onclick = function() {
            var fileContent = "Your file content here"; // Replace with your file content
            var blob = new Blob([fileContent], {type: "text/plain"});
            var url = URL.createObjectURL(blob);

            var downloadLink = document.createElement("a");
            downloadLink.href = url;
            downloadLink.download = "filename.txt";  // Replace with your file name

            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
        };
        document.getElementById("direct").oninput = function() {
        var directValue = parseInt(this.value);
        if (!isNaN(directValue) && directValue <= 100) {
            document.getElementById("internal").value = 100 - directValue;
        } else {
            document.getElementById("internal").value = "";
        }
    };

    document.getElementById("external").oninput = function() {
        var externalValue = parseInt(this.value);
        if (!isNaN(externalValue) && externalValue <= 100) {
            document.getElementById("indirect").value = 100 - externalValue;
        } else {
            document.getElementById("indirect").value = "";
        }
    };

    </script> -->
    <!-- <script>
        document.getElementById("templateGenerationBtn").onclick = function() {
            document.getElementById("courseForm").style.display = "block";
            document.getElementById("otherForm").style.display = "none";
        }
    
        document.getElementById("otherTemplateBtn").onclick = function() {
            document.getElementById("otherForm").style.display = "block";
            document.getElementById("courseForm").style.display = "none";
        }
    
        $(document).ready(function(){
            $("#academicYearStart").change(function() {
                var startYear = $(this).val();
                $("#academicYearEnd").val(parseInt(startYear) + 1);
            });
    
            $("#batch").on("focus", function(){
                this.type = 'year';
            });
    
            $("#batch").on("blur", function(){
                this.type = 'text';
            });
    
            $("#numberOfComponents").change(function(){
                var numComponents = $(this).val();
                $("#componentContainer").empty().show();
                var table = $('<table></table>').addClass('table');
                var thead = $('<thead></thead>').append('<tr><th>Component Name</th><th>Questions</th></tr>');
                table.append(thead);
                for(var i=0; i<numComponents; i++){
                    var row = $('<tr></tr>');
                    row.append('<td><input type="text" name="componentName'+(i+1)+'" placeholder="Component Name '+(i+1)+'" required class="form-control" pattern=".*[IE]$"></td>');
                    row.append('<td><input type="text" name="componentValue'+(i+1)+'" placeholder="Number of Questions" required class="form-control"></td>');
                    table.append(row);
                }
                $("#componentContainer").append(table);
            });
    
            $("#courseForm").on("submit", function(event){
                var form = $(this);
                if (form[0].checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.addClass('was-validated');
            });
        });
    
        document.getElementById("downloadBtn").onclick = function() {
            var fileContent = "Your file content here";
            var blob = new Blob([fileContent], {type: "text/plain"});
            var url = URL.createObjectURL(blob);
    
            var downloadLink = document.createElement("a");
            downloadLink.href = url;
            downloadLink.download = "filename.txt";
    
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
        };
    
        document.getElementById("direct").oninput = function() {
            var directValue = parseInt(this.value);
            if (!isNaN(directValue) && directValue <= 100) {
                document.getElementById("internal").value = 100 - directValue;
            } else {
                document.getElementById("internal").value = "";
            }
        };
    
        document.getElementById("external").oninput = function() {
            var externalValue = parseInt(this.value);
            if (!isNaN(externalValue) && externalValue <= 100) {
                document.getElementById("indirect").value = 100 - externalValue;
            } else {
                document.getElementById("indirect").value = "";
            }
        };
    </script> -->
    <!-- <script>
        document.getElementById("templateGenerationBtn").onclick = function() {
            document.getElementById("courseForm").style.display = "block";
            document.getElementById("otherForm").style.display = "none";
        }
    
        document.getElementById("otherTemplateBtn").onclick = function() {
            document.getElementById("otherForm").style.display = "block";
            document.getElementById("courseForm").style.display = "none";
        }
    
        $(document).ready(function(){
            $("#academicYearStart").change(function() {
                var startYear = $(this).val();
                $("#academicYearEnd").val(parseInt(startYear) + 1);
            });
    
            $("#batch").on("focus", function(){
                this.type = 'year';
            });
    
            $("#batch").on("blur", function(){
                this.type = 'text';
            });
    
            $("#numberOfComponents").change(function(){
                var numComponents = $(this).val();
                $("#componentContainer").empty().show();
                var table = $('<table></table>').addClass('table');
                var thead = $('<thead></thead>').append('<tr><th>Component Name</th><th>Questions</th></tr>');
                table.append(thead);
                for(var i=0; i<numComponents; i++){
                    var row = $('<tr></tr>');
                    row.append('<td><input type="text" name="componentName'+(i+1)+'" placeholder="Component Name '+(i+1)+'" required class="form-control" pattern=".*[IE]$"></td>');
                    row.append('<td><input type="text" name="componentValue'+(i+1)+'" placeholder="Number of Questions" required class="form-control"></td>');
                    table.append(row);
                }
                $("#componentContainer").append(table);
            });
    
            $("#courseForm").on("submit", function(event){
                var form = $(this);
                if (form[0].checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.addClass('was-validated');
            });
        });
    
        document.getElementById("downloadBtn").onclick = function() {
            var fileContent = "Your file content here";
            var blob = new Blob([fileContent], {type: "text/plain"});
            var url = URL.createObjectURL(blob);
    
            var downloadLink = document.createElement("a");
            downloadLink.href = url;
            downloadLink.download = "filename.txt";
    
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
        };
    
        // document.getElementById("direct").oninput = function() {
        //     var directValue = parseInt(this.value);
        //     if (!isNaN(directValue) && directValue <= 100) {
        //         document.getElementById("internal").value = 100 - directValue;
        //         // make sure this is visble in the screen
        //         document.getElementById("indirect").value = "";
        //     } else {
        //         document.getElementById("internal").value = "";
        //     }
        // };
    
        // document.getElementById("external").oninput = function() {
        //     var externalValue = parseInt(this.value);
        //     if (!isNaN(externalValue) && externalValue <= 100) {
        //         document.getElementById("indirect").value = 100 - externalValue;
        //         document.getElementById("internal").value = "";
        //     } else {
        //         document.getElementById("indirect").value = "";
        //     }
        // };
        document.getElementById("direct").oninput = function() {
    var directValue = parseInt(this.value);
    var externalValue = parseInt(document.getElementById("external").value);
    if (!isNaN(directValue) && directValue <= 100) {
        var internal = document.getElementById("internal");
        internal.value = 100 - directValue;
        internal.style.backgroundColor = "#D3D3D3";  // LightGray color
        if (!isNaN(externalValue) && externalValue <= 100) {
            var indirect = document.getElementById("indirect");
            indirect.value = directValue - externalValue;
            indirect.style.backgroundColor = "#D3D3D3";  // LightGray color
        } else {
            document.getElementById("indirect").value = "";
        }
    } else {
        document.getElementById("internal").value = "";
        document.getElementById("indirect").value = "";
    }
};

document.getElementById("external").oninput = function() {
    var externalValue = parseInt(this.value);
    var directValue = parseInt(document.getElementById("direct").value);
    if (!isNaN(externalValue) && externalValue <= 100) {
        var indirect = document.getElementById("indirect");
        indirect.value = 100 - externalValue;
        indirect.style.backgroundColor = "#D3D3D3";  // LightGray color
        if (!isNaN(directValue) && directValue <= 100) {
            var internal = document.getElementById("internal");
            internal.value = directValue - externalValue;
            internal.style.backgroundColor = "#D3D3D3";  // LightGray color
        } else {
            document.getElementById("internal").value = "";
        }
    } else {
        document.getElementById("indirect").value = "";
        document.getElementById("internal").value = "";
    }
};

    </script> -->
    <script>
        document.getElementById("templateGenerationBtn").onclick = function() {
            document.getElementById("courseForm").style.display = "block";
            document.getElementById("otherForm").style.display = "none";
        }
    
        document.getElementById("otherTemplateBtn").onclick = function() {
            document.getElementById("otherForm").style.display = "block";
            document.getElementById("courseForm").style.display = "none";
        }
    
        $(document).ready(function(){
            $("#academicYearStart").change(function() {
                var startYear = $(this).val();
                $("#academicYearEnd").val(parseInt(startYear) + 1);
            });
    
            $("#batch").on("focus", function(){
                this.type = 'year';
            });
    
            $("#batch").on("blur", function(){
                this.type = 'text';
            });
    
            $("#numberOfComponents").change(function(){
                var numComponents = $(this).val();
                $("#componentContainer").empty().show();
                var table = $('<table></table>').addClass('table');
                var thead = $('<thead></thead>').append('<tr><th>Component Name</th><th>Questions</th></tr>');
                table.append(thead);
                for(var i=0; i<numComponents; i++){
                    var row = $('<tr></tr>');
                    row.append('<td><input type="text" name="componentName'+(i+1)+'" placeholder="Component Name '+(i+1)+'" required class="form-control" pattern=".*[IE]$"></td>');
                    row.append('<td><input type="text" name="componentValue'+(i+1)+'" placeholder="Number of Questions" required class="form-control"></td>');
                    table.append(row);
                }
                $("#componentContainer").append(table);
            });
    
            $("#courseForm").on("submit", function(event){
                var form = $(this);
                if (form[0].checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.addClass('was-validated');
            });
        });
    
        document.getElementById("downloadBtn").onclick = function() {
            var fileContent = "Your file content here";
            var blob = new Blob([fileContent], {type: "text/plain"});
            var url = URL.createObjectURL(blob);
    
            var downloadLink = document.createElement("a");
            downloadLink.href = url;
            downloadLink.download = "filename.txt";
    
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
        };
    
        document.getElementById("direct").oninput = function() {
            var directValue = parseInt(this.value);
            var externalValue = parseInt(document.getElementById("external").value);
            if (!isNaN(directValue) && directValue <= 100) {
                var internal = document.getElementById("internal");
                internal.value = 100 - directValue;
                internal.style.backgroundColor = "#D3D3D3";  // LightGray color
                if (!isNaN(externalValue) && externalValue <= 100) {
                    var indirect = document.getElementById("indirect");
                    indirect.value = directValue - externalValue;
                    indirect.style.backgroundColor = "#D3D3D3";  // LightGray color
                } else {
                    document.getElementById("indirect").value = "";
                }
            } else {
                document.getElementById("internal").value = "";
                document.getElementById("indirect").value = "";
            }
        };
    
        document.getElementById("external").oninput = function() {
            var externalValue = parseInt(this.value);
            var directValue = parseInt(document.getElementById("direct").value);
            if (!isNaN(externalValue) && externalValue <= 100) {
                var indirect = document.getElementById("indirect");
                indirect.value = 100 - externalValue;
                indirect.style.backgroundColor = "#D3D3D3";  // LightGray color
                if (!isNaN(directValue) && directValue <= 100) {
                    var internal = document.getElementById("internal");
                    internal.value = directValue - externalValue;
                    internal.style.backgroundColor = "#D3D3D3";  // LightGray color
                } else {
                    document.getElementById("internal").value = "";
                }
            } else {
                document.getElementById("indirect").value = "";
                document.getElementById("internal").value = "";
            }
        };
    </script>
    
    
    
</body>

</html>

